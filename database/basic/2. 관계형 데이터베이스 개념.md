ë³¸ ê²Œì‹œê¸€ì€ [https://www.youtube.com/watch?v=gjcbqZjlXjM&t](https://www.youtube.com/watch?v=gjcbqZjlXjM&t)ë¥¼ ì‹œì²­í•œ ë’¤ì— ì‘ì„±í•œ ê²Œì‹œê¸€ì…ë‹ˆë‹¤.

# Relational data model
## ê¸°ë³¸ ë°°ê²½ ì§€ì‹
### setì´ë€?
- ì„œë¡œ ë‹¤ë¥¸ elementsë¥¼ ê°€ì§€ëŠ” collection
- í•˜ë‚˜ì˜ setì—ì„œ elementsì˜ ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.
- ex) {1,3,11,4,7}

### relation in mathematics (ìˆ˜í•™ì—ì„œ relation)
#### Cartesian product
![image](https://github.com/Potato-Y/study/assets/68105481/e0277718-2b79-4a9d-8d57-cd8b222504cc)
ìœ„ì™€ ê°™ì´ ëª¨ë‘ í‘œí˜„ ê°€ëŠ¥í•œ pairì˜ ì¡°í•©ì„ ìˆ˜í•™ìœ¼ë¡œëŠ” ì•„ë˜ì™€ ê°™ì´ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

**Cartesian product AÃ—B = {(a,b)|a âˆˆ A and b âˆˆ B}**
- set Aì—ì„œ í•˜ë‚˜ë¥¼ ê³ ë¥´ê³ , set Bì—ì„œ í•˜ë‚˜ë¥¼ ê³¨ë¼ì„œ Aì™€ Bë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ì¡°í•©ì„ ì˜ë¯¸í•œë‹¤.

#### binary relation
![image](https://github.com/Potato-Y/study/assets/68105481/0acc8e6c-0d43-41a4-ad70-4ca100db3a1a)
setì´ 2ê°œë°–ì— ì—†ëŠ” ìœ„ì˜ ìƒí™©ì—ì„œëŠ” binary relation ì´ë¼ê³  í•˜ë©° ìˆ˜í•™ì  í‘œí˜„ì€ ì•„ë˜ì™€ ê°™ë‹¤.

**binary relation âŠ† AÃ—B**
- Aì™€ Bì˜ Cartesian productì˜ ë¶€ë¶„ ì§‘í•©ì„ ì˜ë¯¸í•œë‹¤.

#### n-ary relation 
![image](https://github.com/Potato-Y/study/assets/68105481/18821fa4-dcc9-49d9-889d-b1ecea842e58)
setì´ ê³„ì† ëŠ˜ì–´ë‚˜ì„œ ì´ nê°œì˜ setì´ ìˆë‹¤ê³  ìœ„ì™€ ê°™ì´ ê°€ì •í•œë‹¤. ìœ„ì˜ Cartesian productëŠ” ë‹¤ìŒê³¼ ê°™ì´ í‘œê¸°í•œë‹¤.

**n-ary relation âŠ† Xâ‚Ã—Xâ‚‚Ã—...Ã—Xğš—**

#### tuple
![image](https://github.com/Potato-Y/study/assets/68105481/3a99d9bb-10fd-49cc-84ac-8df792b0e777)
ìœ„ íŒŒë€ ìƒ‰ì„ í•˜ë‚˜ì˜ íŠœí”Œì´ë¼ ë¶€ë¥´ë©°, nê°œì˜ ì§‘í•©ì— ëŒ€í•œ tupleì´ê¸° ë•Œë¬¸ì— n tupledì´ë¼ê³  ë¶€ë¥¸ë‹¤.

### ì •ë¦¬
ìˆ˜í•™ì—ì„œì˜ relationì´ë€, 
- Cartesian productì˜ ë¶€ë¶„ ì§‘í•©ì´ë‹¤.
- tupleë“¤ì˜ setì´ë‹¤.

## Relational data modelì— relation in mathematicsê°€ ì–´ë–»ê²Œ ì ìš©ë˜ëŠ”ê°€?
|-|-|
|relation in mathematics|Relational data model|
|-|-|
|set|domain|


### domain ì •ì˜í•˜ê¸°
- students_ids: í•™ë²ˆ ì§‘í•©, 7ìë¦¬ integer ì •ìˆ˜
- human_names: ì‚¬ëŒ ì´ë¦„ ì§‘í•©, ë¬¸ìì—´
- university_grades: ëŒ€í•™êµ í•™ë…„ ì§‘í•©, {1,2,3,4}
- major_names: ëŒ€í•™êµì—ì„œ ë°°ìš°ëŠ” ì „ê³µ ì´ë¦„ ì§‘í•©
- phone_numbers: í•¸ë“œí° ë²ˆí˜¸ ì§‘í•©

|  | students_ids | human_names | university_grades | major_names | phone_numbers | phone_numbers |
|---|---|---|---|---|---|---|
| attribute | id | name | grade | major | phone_num | emer_phone_num |
| tuple | 2022022 | hong1 | 3 | cse | 01012341234 | 01012345678 |
|  | 2021023 | hwan1 | 4 | cse | 01012341235 | 01012345679 |

- ì†ì„± ê°ê°ì„ attributeë¼ê³  í•œë‹¤.
- ê°ê°ì˜ ê°’ë“¤ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ë£¬ ê²ƒì„ tupleì´ë¼ê³  í•œë‹¤.
- ì „ì²´ë¥¼ relation(table)ì´ë¼ê³  í•œë‹¤.
- ì´ relationì—ëŠ” ì´ë¦„ì´ ìˆë‹¤. (ex, STUDENT)

#### ì£¼ìš” ê°œë…
- domain
  - set of **atomic** values (ë”ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ëŠ” ê°’ë“¤ì˜ ì§‘í•©)
- domain name
  - domain ì´ë¦„
- attribute
  - domainì´ relationì—ì„œ ë§¡ì€ ì—­í• ì˜ ì´ë¦„
- tuple
  - ê° attributeì˜ ê°’ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¦¬ìŠ¤íŠ¸, ì¼ë¶€ ê°’ì€ NULLì¼ ìˆ˜ ìˆë‹¤.
- relation
  - tupleë“¤ì˜ ì§‘í•©
- relation name
  - relationì˜ ì´ë¦„

### relation schema
- relationì˜ êµ¬ì¡°ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.
- relation ì´ë¦„ê³¼ attributes ë¦¬ìŠ¤íŠ¸ë¡œ í‘œê¸°ëœë‹¤.
- e.g. STUDENT(id, name, grade, major, phone_num, emer_phone_num)
- attributesì™€ ê´€ë ¨ëœ constraintsë„ í¬í•¨í•œë‹¤.

### degree(ì°¨ìˆ˜) of relation 
- relation schemaì—ì„œ attributesì˜ ìˆ˜
- e.g. STUDENT(id, name, grade, major, phone_num, emer_phone_num) => **degree 6**

#### ì¶”ê°€ ë‚´ìš©) relationì˜ 2ê°€ì§€ ì˜ë¯¸
relationì„ **relation state**ë¥¼ ëœ»í•˜ëŠ” ì˜ë¯¸ë¡œë„ ë¶ˆë¦°ë‹¤.

|  | students_ids | human_names | university_grades | major_names | phone_numbers | phone_numbers |
|---|---|---|---|---|---|---|
| attribute | id | name | grade | major | phone_num | emer_phone_num |
| tuple | 2022022 | hong1 | 3 | cse | 01012341234 | 01012345678 |
|  | 2021023 | hwan1 | 4 | cse | 01012341235 | 01012345679 |

ìœ„ í‘œ ì „ì²´ë¥¼ relationì´ë¼ê³  í‘œí˜„í•  ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œ ë°ì´í„° tupleë“¤ì˜ ì§‘í•©ì„ ì˜ë¯¸í•  ìˆ˜ë„ ìˆë‹¤.

### relational database ì •ì˜
- relational data modelì— ê¸°ë°˜í•˜ì—¬ êµ¬ì¡°í™”ëœ database
- relational databaseëŠ” ì—¬ëŸ¬ ê°œì˜ relationsë¡œ êµ¬ì„±ëœë‹¤.

### relational database schema
relational databaseê°€ ì—¬ëŸ¬ê°œì˜ relationë¡œ êµ¬ì„±ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— schemaëŠ” <br>
`relation schemas set(ë¦´ë ˆì´ì…˜ ìŠ¤í‚¤ë§ˆ ì§‘í•©) + integrity constraints set`<br>
ë¦´ë ˆì´ì…˜ì´ ì—¬ëŸ¬ê°œì´ê¸° ë•Œë¬¸ì— integrityê°€ ìˆë‹¤. ê·¸ integrityì™€ ê´€ë ¨ëœ constraintsì˜ ì§‘í•©ìœ¼ë¡œ ì´ schemaê°€ êµ¬ì„±ëœë‹¤.

### relationì˜ íŠ¹ì§•ë“¤
- relationì€ ì¤‘ë³µëœ tupleì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. ë•Œë¬¸ì— relationì˜ tupleì„ ì‹ë³„í•˜ê¸° ìœ„í•´ attributeì˜ ë¶€ë¶„ ì§‘í•©ì„ `key`ë¡œ ì„¤ì •í•œë‹¤.
- relationì—ì„œ tupleì˜ ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í•˜ë‚˜ì˜ relationì—ì„œ attributeì˜ ì´ë¦„ì€ ì¤‘ë³µë˜ë©´ ì•ˆëœë‹¤.
- í•˜ë‚˜ì˜ relationì—ì„œ attributeì˜ ìˆœì„œëŠ” ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.
- attributeëŠ” atomic(ì›ìì ì¸) í•´ì•¼ í•œë‹¤. (composite or multivalued attribute í—ˆìš© ì•ˆë¨)

> atomicí•˜ì§€ ì•Šì€ ì˜ˆì‹œ

| id | name | address | grade | major |
|---|---|---|---|---|
| 200 | hong1 | ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì²­ë‹´ë™ | 4 | cse, design |

ì‹œ, êµ¬, ë™ì€ ìª¼ê°¤ ìˆ˜ ìˆë‹¤. ì´ë¥¼ composite attributeë¼ê³  í•˜ë©°, ë‚˜ëˆ„ì–´ì„œ ì €ì¥í•´ì•¼ í•œë‹¤. ë˜í•œ ì „ê³µì´ 2ê°œì¸ë°, ì´ë¥¼ multivalued attributeë¼ í•˜ë©° ë‚˜ëˆ„ì–´ì„œ ì €ì¥í•´ì•¼ í•œë‹¤.

### NULLì˜ ì˜ë¯¸
- ê°’ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ê°’ì´ ì¡´ì¬í•˜ë‚˜ ì•„ì§ ê·¸ ê°’ì´ ë¬´ì—‡ì¸ì§€ ì•Œì§€ ëª»í•œë‹¤.
- í•´ë‹¹ ì‚¬í•­ê³¼ ê´€ë ¨ì´ ì—†ë‹¤.

### key
#### superkey
- relationì—ì„œ tuplesë¥¼ uniqueí•˜ê²Œ ì‹ë³„í•  ìˆ˜ ìˆëŠ” attributes set
- e.g. PLAYER(id, name, team_id, back_number, birth_date)ì˜ superkeyëŠ” {id, name, team_id, back_namber, birth_day}, {id, name}, {name, team_id, back_number} ... etc

#### candidate key
- ì–´ëŠ í•œ attributeë¼ë„ ì œê±°í•˜ë©´ uniqueí•˜ê²Œ tuplesë¥¼ ì‹ë³„í•  ìˆ˜ ì—†ëŠ” super key
- key or minimal superkey
- e.g. PLAYER(id, name, team_id, back_number, birth_date)ì˜ candidate keyëŠ” {id}, {team_id, back_number}

#### primary key
- relationì—ì„œ tuplesë¥¼ uniqueí•˜ê²Œ ì‹ë³„í•˜ê¸° ìœ„í•´ ì„ íƒëœ candidate key
- e.g. PLAYER(id, name, team_id, back_number, birth_date)ì˜ primary keyëŠ” {id} or {team_id, back_number}

ë³´í†µ primary keyë¡œ ê³ ë¥¼ ë•Œì—ëŠ” attribute ìˆ˜ê°€ ì ì€ê±°ë¡œ ê³ ë¥¸ë‹¤. ~~ê·¸ê²Œ ë” í¸í•˜ë‹¤.~~

#### unique key
- primary keyê°€ ì•„ë‹Œ candidate keys
- alternate key
- e.g. PLAYER(<u>id</u>, name, team_id, back_number, birth_date)ì˜ unique keyëŠ” {team_id, back_number}

> ë³´í†µ primary keyì—ëŠ” <U>ë°‘ì¤„</U>ì„ ì¶”ê°€í•œë‹¤.

#### foreign key
- ë‹¤ë¥¸ relationì˜ PKë¥¼ ì°¸ì¡°í•˜ëŠ” attributes set
- e.g. PLAYER(id, name, team_id, back_number, birth_date)ì™€ TEAM(<U>id</U>, name, manager)ê°€ ìˆì„ ë•Œ foreign keyëŠ” PLAYERì˜ {team_id}
  - ì¦‰ PLAYERì˜ team_idê°€ TEAMì˜ idë¥¼ ì°¸ì¡°í•œë‹¤.
 
### constraints
#### constraints ëœ»
- relational databaseì˜ relationsë“¤ì´ ì–¸ì œë‚˜ í•­ìƒ ì§€ì¼œì¤˜ì•¼ í•˜ëŠ” ì œì•½ ì‚¬í•­

#### implicit constraints
- relational data model ìì²´ê°€ ê°€ì§€ëŠ” constraints
- relationì€ ì¤‘ë³µë˜ëŠ” tupleì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
- relation ë‚´ì—ì„œëŠ” ê°™ì€ ì´ë¦„ì˜ attributeë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.

#### schema-based constraints
- ì£¼ë¡œ DDLì„ í†µí•´ schemaì— ì§ì ‘ ëª…ì‹œí•  ìˆ˜ ìˆëŠ” constraints
- ë‹¤ë¥¸ ë§ë¡œëŠ” explicit constraintsë¼ê³ ë„ í•œë‹¤.

#### domain constraints
- attributeì˜ valueëŠ” í•´ë‹¹ attributeì˜ domainì— ì†í•œ valueì—¬ì•¼ í•œë‹¤.

`STUDENT`
| students_ids | human_names | university_grades | major_names | phone_numbers | phone_numbers |
|---|---|---|---|---|---|
| id | name | grade | major | phone_num | emer_phone_num |
| 2022022 | hong1 | 3 | cse | 01012341234 | 01012345678 |
| 2021023 | hwan1 | 100 | cse | 01012341235 | 01012345679 |

gradeì— 100ì´ë€ ìˆ«ìëŠ” ì˜¬ ìˆ˜ ì—†ë‹¤. `1, 2, 3, 4`ë§Œ ê°€ëŠ¥í•˜ë‹¤.

#### key constraints
- ì„œë¡œ ë‹¤ë¥¸ tuplesëŠ” ê°™ì€ valueì˜ keyë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.

`STUDENT`
| students_ids | human_names | university_grades | major_names | phone_numbers | phone_numbers |
|---|---|---|---|---|---|
| id | name | grade | major | phone_num | emer_phone_num |
| ***2022022*** | hong1 | 3 | cse | 01012341234 | 01012345678 |
| ***2022022*** | hwan1 | 4 | cse | 01012341235 | 01012345679 |

#### NULL value constraint
- attributeê°€ NOT NULLë¡œ ëª…ì‹œë˜ì—ˆë‹¤ë©´ NULLì„ ê°’ìœ¼ë¡œ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.

`STUDENT`
| students_ids | human_names | university_grades | major_names | phone_numbers [NOT NULL] | phone_numbers |
|---|---|---|---|---|---|
| id | name | grade | major | phone_num | emer_phone_num |
| 2022022 | hong1 | 3 | cse | 01012341234 | 01012345678 |
| 2021023 | hwan1 | 4 | cse | ***NULL*** | 01012345679 |

#### entity integrity constraint
- primary keyëŠ” valueì— NULLì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.

`STUDENT`
| students_ids | human_names | university_grades | major_names | phone_numbers | phone_numbers |
|---|---|---|---|---|---|
| id | name | grade | major | phone_num | emer_phone_num |
| 2022022 | hong1 | 3 | cse | 01012341234 | 01012345678 |
| ***NULL*** | hwan1 | 4 | cse | 01012341235 | 01012345679 |

#### referential integrity constraint
- FKì™€ PKì™€ ë„ë©”ì¸ì´ ê°™ì•„ì•¼ í•˜ê³  PKì— ì—†ëŠ” valuesë¥¼ FKê°€ ê°’ìœ¼ë¡œ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
- 
